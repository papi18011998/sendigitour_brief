/*!
 * 
 * Presto Player
 * 
 * @author Presto Made, Inc
 * @version 0.1.0
 * @link undefined
 * @license GPL
 * 
 * Copyright (c) 2022 Presto Made, Inc
 * 
 * This software is released under the GPL License
 * https://opensource.org/licenses/GPL
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackioprestoPlayersettingsJsonp=window.wpackioprestoPlayersettingsJsonp||[]).push([[0],{10:function(e,t){e.exports=window.wp.apiFetch},27:function(e,t,n){n(28),e.exports=n(43)},43:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"settings",(function(){return c})),n.d(a,"ui",(function(){return p})),n.d(a,"notices",(function(){return u}));var r={};n.r(r),n.d(r,"setSettings",(function(){return m})),n.d(r,"updateSetting",(function(){return d})),n.d(r,"setSaving",(function(){return y})),n.d(r,"addNotice",(function(){return _})),n.d(r,"removeNotice",(function(){return v}));var o=n(25),l=n(7);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return e.settingsReducer}function p(e){return e.uiReducer}function u(e){return e.uiReducer.notices||[]}function m(e){return{type:"SET_SETTINGS",settings:e}}function d(e,t,n){return{type:"UPDATE_SETTING",name:e,value:t,optionName:n}}function y(e){return{type:"SET_SAVING",value:e}}function _(e){return{type:"SET_NOTICE",notice:e}}function v(e){return{type:"REMOVE_NOTICE",id:e}}var g={reducer:(0,wp.data.combineReducers)({settingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SETTINGS":return t.settings;case"UPDATE_SETTING":return i(i({},e),{},Object(l.a)({},"presto_player_".concat(t.optionName),i(i({},e["presto_player_".concat(t.optionName)]),{},Object(l.a)({},t.name,t.value))))}return e},uiReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notices:[],saving:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SAVING":return i(i({},e),{},{saving:t.value});case"SET_NOTICE":return i(i({},e),{},{notices:[].concat(Object(o.a)(e.notices),[i({id:e.notices.length},t.notice)])});case"REMOVE_NOTICE":return i(i({},e),{},{notices:e.notices.filter((function(e){return e.id!==t.id}))})}return e}}),selectors:a,actions:r},b=n(2),h=n(10),f=n.n(h);f.a.use(f.a.createNonceMiddleware(prestoPlayer.nonce)),f.a.use(f.a.createRootURLMiddleware(prestoPlayer.root+prestoPlayer.wpVersionString));var R=f.a,E=wp.i18n.__,w=wp.data,N=w.dispatch,O=w.useSelect,k=prestoPlayer.root+prestoPlayer.wpVersionString;function S(){return O((function(e){return e("presto-player/settings").settings()}))}function j(e){var t={};return["presto_player_analytics","presto_player_presets","presto_player_branding","presto_player_bunny_storage_zones","presto_player_bunny_pull_zones","presto_player_bunny_stream","presto_player_bunny_stream_public","presto_player_bunny_stream_private","presto_player_google_analytics","presto_player_general","presto_player_uninstall","presto_player_performance","presto_player_mailchimp","presto_player_mailerlite","presto_player_youtube","presto_player_activecampaign","presto_player_fluentcrm","presto_player_audio_presets"].forEach((function(n){t[n]=e[n]?e[n]:{}})),t}var P=n(20),C=n(21),x=n(13),T=n(22),B=n(23),D=n(16),I=n(24),A=n.n(I);function M(e){return{path:e.pathname,hash:e.hash,query:A.a.parse(e.search)}}var F=n(26),z=Object(F.a)(),L=wp.element.createContext({route:M(z.location)}),q=n(9),G=wp.element.useContext,V="";function U(e){var t=e.path,n=e.onRoute,a=e.children,r=G(L).route,o=Object(q.a)("".concat(t))("".concat(r.hash.substr(1)));return o?(n&&(V!==o.path&&n(),V=o.path),React.createElement("div",null,wp.element.cloneElement(a,{route:o}))):null}var Y=n(5),W=n.n(Y);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var H=wp.element.useContext;function J(e){var t=e.to,n=e.onClick,a=e.children,r=e.activeClassName,o=H(L).route,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);delete s.activeClassName;return React.createElement("a",Object.assign({},s,{className:W()(Object(l.a)({},r,Object(q.a)("".concat(t))("".concat(o.hash.substr(1)))),e.className),onClick:function(e){e.preventDefault(),o.path!==t&&(n&&n(e),z.push("#".concat(t)))}}),a)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(D.a)(e);if(t){var r=Object(D.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(B.a)(this,n)}}var X,Z,$=function(e){Object(T.a)(n,e);var t=Q(n);function n(e){var a;Object(P.a)(this,n),a=t.call(this,e),Object(l.a)(Object(x.a)(a),"handleRouteChange",(function(e){var t=M(null==e?void 0:e.location);a.setState({route:t})})),a.routes=Object.keys(e.routes).map((function(t){return e.routes[t].path})),a.unlisten=z.listen(a.handleRouteChange);var r=M(z.location);return a.state={route:r,defaultRoute:null!=e&&e.defaultRoute?"#".concat(null==e?void 0:e.defaultRoute):"#/"},a}return Object(C.a)(n,[{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.NotFound,this.state),a=n.route,r=n.defaultRoute;if(!a.hash)return z.push(r),React.createElement("div",null);var o=!1;(this.routes||[]).forEach((function(e){var t=Object(q.a)(a.hash.substr(1))("".concat(a.hash.substr(1)));t&&(o={name:e,data:t})}));var l={route:a,matched:o},s=!o;return React.createElement(L.Provider,{value:l},s?React.createElement("div",null,"Not found"):t)}}]),n}(wp.element.Component),ee={general:{path:"/general"},integrations:{path:"/integrations"},performance:{path:"/performance"}},te=wp.i18n.__,ne=wp.components.Button,ae=wp.data.useSelect,re=function(e){var t=e.style,n=e.className,a=S(),r=ae((function(e){return e("presto-player/settings").ui()}));return React.createElement(ne,{isPrimary:!0,style:t,className:n,disabled:r.saving,onClick:function(e){e.preventDefault(),function(e){N("presto-player/settings").setSaving(!0),R({url:"".concat(k,"settings/"),method:"POST",data:e}).then((function(e){N("presto-player/settings").setSettings(j(e)),N("presto-player/settings").addNotice({content:E("Settings saved.","presto-player")})})).catch((function(e){N("presto-player/settings").addNotice({content:e.message?e.message:"Something went wrong.",className:"is-snackbar-error"})})).finally((function(){N("presto-player/settings").setSaving(!1)}))}(a)}},te("Save Changes","presto-player"))},oe=n(4),le=n(1),se=n.n(le),ie=wp.data.useSelect,ce=function(){return ie((function(e){return e("presto-player/settings").settings()}))},pe=function(e,t){var n,a=ce();return t?null==a||null===(n=a["presto_player_".concat(e)])||void 0===n?void 0:n[t]:null==a?void 0:a["presto_player_".concat(e)]},ue=n(0),me=wp.components,de=me.ColorPicker,ye=me.BaseControl,_e=wp.data.dispatch,ve=function(e){var t=e.option,n=e.value,a=e.optionName,r=e.className;return React.createElement("div",{className:W()(r,"presto-settings__setting is-color-control")},React.createElement(ye,{label:null==t?void 0:t.name,help:null==t?void 0:t.help},React.createElement("br",null),React.createElement("br",null),React.createElement(de,{color:n,onChangeComplete:function(e){return _e("presto-player/settings").updateSetting(t.id,e.hex,a)},disableAlpha:!0})))},ge=wp.i18n.__,be=wp.element.useState,he=wp.components,fe=he.Modal,Re=he.Button,Ee=function(e){var t=e.children,n=e.disabled,a=be(!1),r=Object(b.a)(a,2),o=r[0],l=r[1];return n?React.createElement("div",null,React.createElement("div",{className:"presto-options__disabled-overlay",onClick:function(e){return l(!0),e.preventDefault(),!1}},React.createElement("div",null,t)),!!o&&React.createElement(fe,{title:null==n?void 0:n.title,onRequestClose:function(){return l(!1)}},React.createElement("h2",null,null==n?void 0:n.heading),React.createElement("p",null,null==n?void 0:n.message),React.createElement(Re,{href:null==n?void 0:n.link,target:"_blank",isPrimary:!0},ge("Learn More","presto-player")))):React.createElement("div",null,t)},we=(wp.i18n.__,wp.components),Ne=we.Card,Oe=we.CardBody,ke=we.CardFooter,Se=function(e){var t=e.title,n=e.description,a=e.children,r=e.disabled,o=e.hideSaveButton;return React.createElement(Ee,{disabled:r},React.createElement(Ne,{size:"large",className:"presto-options__card"},React.createElement(Oe,{className:"presto-options__card-body"},React.createElement("div",{className:"presto-flow",style:{"--presto-flow-space":"2em"}},React.createElement("div",{className:"presto-flow",style:{"--presto-flow-space":"1em"}},t&&React.createElement("h2",{style:{marginBottom:0}},t," ",!!r&&React.createElement("div",{className:"presto-options__pro-badge"},"Pro")),n&&React.createElement("p",null,n)),React.createElement("div",null,a))),o?React.createElement("br",null):React.createElement(ke,{isShady:!0},React.createElement("div",null,React.createElement(re,{form:"presto-settings-form"})))))},je=wp.i18n.__,Pe=wp.components,Ce=Pe.Button,xe=Pe.BaseControl,Te=wp.mediaUtils.MediaUpload,Be=wp.data.dispatch,De=function(e){var t=e.option,n=e.value,a=e.optionName,r=e.className,o=e.maxWidth;return React.createElement("div",{className:W()(r,"presto-settings__setting is-media-control")},React.createElement(xe,{className:"editor-video-poster-control"},React.createElement(xe.VisualLabel,null,React.createElement("p",null,null==t?void 0:t.name)),n&&React.createElement(xe,null,React.createElement("img",{style:{maxWidth:o,border:"1px solid #dcdcdc"},src:n})),React.createElement(Te,{title:null==t?void 0:t.help,onSelect:function(e){Be("presto-player/settings").updateSetting(t.id,e.url,a)},allowedTypes:null==t?void 0:t.allowed_types,render:function(e){var t=e.open;return React.createElement(Ce,{isSecondary:!0,onClick:t,className:n?"button-replace":"button-select"},je(n?"Replace":"Select","presto-player"))}}),React.createElement("p",{id:"video-block__logo-image-description-".concat(null==t?void 0:t.id),hidden:!0},n?sprintf(je("The current logo image url is %s","presto-player"),n):je("There is no logo image currently selected","presto-player")),!!n&&React.createElement(Ce,{onClick:function(e){Be("presto-player/settings").updateSetting(t.id,"",a),e.preventDefault()},isTertiary:!0,className:"button-remove"},je("Remove","presto-player"))),React.createElement("br",null))},Ie=function(e){var t=e.children,n=e.title,a=e.description;return React.createElement("div",{className:"presto-flow presto-settings__page"},React.createElement("div",{className:"presto-flow",style:{"--presto-flow-space":"1em"}},n&&React.createElement("h1",null,n),a&&React.createElement("p",null,a)),React.createElement("div",{className:"presto-settings__body "},React.createElement("div",{className:"presto-flow"},t)))},Ae=wp.components.ComboboxControl,Me=wp.element.useState,Fe=wp.data.dispatch,ze=function(e){var t=e.option,n=e.options,a=e.value,r=e.optionName,o=e.className,l=Me(n||[]),s=Object(b.a)(l,2),i=s[0],c=s[1];return React.createElement(Ae,{className:W()(o,"presto-settings__setting is-combo-control"),label:null==t?void 0:t.name,value:a,help:null==t?void 0:t.help,options:i,onFilterValueChange:function(e){return c(n.filter((function(t){return t.label.toLowerCase().startsWith(e.toLowerCase())})))},onChange:function(e){return Fe("presto-player/settings").updateSetting(t.id,e,r)}})},Le=wp.components,qe=Le.ToggleControl,Ge=Le.Modal,Ve=Le.Button,Ue=wp.data.dispatch,Ye=wp.element.useState,We=wp.i18n.__,Ke=function(e){var t,n,a,r,o,l=e.option,s=e.value,i=e.optionName,c=e.className,p=Ye(!1),u=Object(b.a)(p,2),m=u[0],d=u[1];return React.createElement("div",{className:W()(c,"presto-settings__setting is-toggle-control")},React.createElement(qe,{label:(null==l?void 0:l.description)||(null==l?void 0:l.name),checked:s,help:null==l?void 0:l.help,onChange:function(e){null!=l&&l.confirm&&e?d(!0):Ue("presto-player/settings").updateSetting(l.id,e,i)}}),m&&React.createElement(Ge,{className:"presto-player__modal-confirm",title:null==l||null===(t=l.confirm)||void 0===t?void 0:t.title,style:{"max-width":"350px"},onRequestClose:function(){return d(!1)}},(null==l||null===(n=l.confirm)||void 0===n?void 0:n.heading)&&React.createElement("h2",null,null==l||null===(a=l.confirm)||void 0===a?void 0:a.heading),(null==l||null===(r=l.confirm)||void 0===r?void 0:r.message)&&React.createElement("p",null,null==l||null===(o=l.confirm)||void 0===o?void 0:o.message),React.createElement(Ve,{className:"presto-player__modal-confirm-button",isDestructive:!0,onClick:function(){Ue("presto-player/settings").updateSetting(l.id,!0,i),d(!1)}},We("Okay","presto-player")),React.createElement(Ve,{onClick:function(){return d(!1)}},We("Cancel","presto-player"))))},He=n(15),Je=wp.components,Qe=(Je.ColorPicker,Je.BaseControl),Xe=wp.data.dispatch,Ze=wp.element,$e=Ze.useEffect,et=Ze.useRef,tt=function(e){var t=e.option,n=e.value,a=e.optionName,r=e.className,o=e.disabled,l=function(e){o||(e.save(),Xe("presto-player/settings").updateSetting(t.id,s.current.value,a))},s=et();return $e((function(){var e;null!==(e=wp)&&void 0!==e&&e.CodeMirror&&wp.CodeMirror.fromTextArea(s.current,{type:"text/css",lineNumbers:!0}).on("change",l)}),[]),Object(ue.b)("div",{className:W()(r,"presto-settings__setting")},Object(ue.b)(Qe,{css:Object(ue.a)(X||(X=Object(He.a)(["\n          .CodeMirror {\n            height: 200px;\n            border: 1px solid #e3e3e3;\n            border-radius: 4px;\n          }\n        "]))),label:null==t?void 0:t.name,help:null==t?void 0:t.help},Object(ue.b)("textarea",{onChange:l,ref:s,rows:"5",disabled:!0},n)))},nt=wp.i18n.__,at=wp.data.dispatch,rt=wp.components,ot=rt.RangeControl,lt=rt.Spinner,st=wp.element,it=st.useEffect,ct=st.useState,pt=function(){var e,t,n,a,r,o,l,s,i,c=ce(),p=function(){var e;return(null===(e=prestoPlayer)||void 0===e||!e.isPremium)&&{title:nt("Pro Feature","presto-player"),heading:nt("Unlock Presto Player Pro","presto-player"),message:nt("Get this feature and more with the Pro version of Presto Player!","presto-player"),link:"https://prestoplayer.com"}},u=ct([]),m=Object(b.a)(u,2),d=m[0],y=m[1],_=ct([]),v=Object(b.a)(_,2),g=v[0],h=v[1];return it((function(){function e(){return(e=Object(oe.a)(se.a.mark((function e(){var t;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.apiFetch({path:"/presto-player/v1/preset/"});case 2:t=e.sent,y(t.map((function(e){return{label:e.name,value:e.id}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(oe.a)(se.a.mark((function e(){var t;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.apiFetch({path:"/presto-player/v1/audio-preset/"});case 2:t=e.sent,h(t.map((function(e){return{label:e.name,value:e.id}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]),Object(ue.b)(Ie,{title:nt("General","presto-player"),description:nt("Branding, analytics and uninstall data.","presto-player")},Object(ue.b)(Se,{title:nt("Branding","presto-player"),description:nt("Global player branding options","presto-player")},Object(ue.b)(Ee,{disabled:p()},Object(ue.b)(De,{className:"presto-player__setting--logo",option:{name:Object(ue.b)(React.Fragment,null,nt("Logo","presto-player")," ",p()&&Object(ue.b)("span",{className:"presto-options__pro-badge"},nt("Pro","presto-player"))),id:"logo",default:""},maxWidth:pe("branding","logo_width")||150,value:pe("branding","logo"),optionName:"branding"}),Object(ue.b)("div",{style:{maxWidth:"500px"}},Object(ue.b)(ot,{className:"presto-player__setting--logo-width",label:nt("Logo Max Width","presto-player"),value:pe("branding","logo_width")||150,onChange:function(e){at("presto-player/settings").updateSetting("logo_width",e,"branding")},min:1,max:400}))),Object(ue.b)(ve,{className:"presto-player__setting--brand-color",option:{name:nt("Brand Color","presto-player"),id:"color",default:""},value:pe("branding","color"),optionName:"branding"})),Object(ue.b)(Se,{title:nt("Analytics","presto-player"),disabled:p(),description:nt("Analytics settings for media plays, watch times and more.","presto-player")},Object(ue.b)("div",null,Object(ue.b)(Ke,{className:"presto-player__setting--analytics-enable",option:{id:"enable",name:nt("Enable","presto-player"),help:nt("Enable view analytics for your media","presto-player")},value:null==c||null===(e=c.presto_player_analytics)||void 0===e?void 0:e.enable,optionName:"analytics"}),!(null==c||null===(t=c.presto_player_analytics)||void 0===t||!t.enable)&&Object(ue.b)(Ke,{className:"presto-player__setting--purge-data",option:{id:"purge_data",name:nt("Auto-Purge Data (recommended)","presto-player"),help:nt("Automatically purge data older than 90 days.","presto-player")},value:void 0===(null==c||null===(n=c.presto_player_analytics)||void 0===n?void 0:n.purge_data)||(null==c||null===(a=c.presto_player_analytics)||void 0===a?void 0:a.purge_data),optionName:"analytics"}))),Object(ue.b)(Se,{title:nt("Presets","presto-player"),disabled:p(),description:nt("Media presets settings.","presto-player")},d.length?Object(ue.b)(ze,{option:{name:nt("Select default preset for video.","presto-player"),id:"default_player_preset"},options:d,value:null==c||null===(r=c.presto_player_presets)||void 0===r?void 0:r.default_player_preset,optionName:"presets"}):Object(ue.b)(lt,null),g.length?Object(ue.b)(ze,{option:{name:nt("Select default preset for audio.","presto-player"),id:"default_player_preset"},options:g,value:null==c||null===(o=c.presto_player_audio_presets)||void 0===o?void 0:o.default_player_preset,optionName:"audio_presets"}):Object(ue.b)(lt,null)),Object(ue.b)(Se,{disabled:p(),title:nt("Custom CSS","presto-player"),description:nt("Quickly add custom css to the player web component.","presto-player")},Object(ue.b)(tt,{disabled:!(null!==(l=prestoPlayer)&&void 0!==l&&l.isPremium),option:{id:"player_css"},value:null==c||null===(s=c.presto_player_branding)||void 0===s?void 0:s.player_css,optionName:"branding"})),Object(ue.b)(Se,{title:nt("Uninstall Options","presto-player"),description:nt("Options to remove data on uninstall.","presto-player")},Object(ue.b)(Ke,{className:"presto-player__setting--uninstall",option:{id:"uninstall_data",name:nt("Remove data on uninstall","presto-player"),help:nt("This removes all data on uninstall.","presto-player"),confirm:{title:nt("Caution: Data Loss","presto-player"),heading:nt("Are you sure?","presto-player"),message:nt("Are you sure you want to remove all the data from this plugin? This is irreversible!","presto-player")}},value:null==c||null===(i=c.presto_player_uninstall)||void 0===i?void 0:i.uninstall_data,optionName:"uninstall"})))},ut=wp.components.TextControl,mt=wp.data.dispatch,dt=function(e){var t=e.option,n=e.value,a=e.optionName,r=e.className;return React.createElement("div",{className:"presto-settings__setting is-text-control"},React.createElement(ut,Object.assign({className:W()(r,"presto-settings__setting is-media-control"),label:null==t?void 0:t.name,value:n,type:null==t?void 0:t.type,help:null==t?void 0:t.help,placeholder:null==t?void 0:t.placeholder,onChange:function(e){return mt("presto-player/settings").updateSetting(t.id,e,a)}},e)))},yt=wp.i18n.__,_t=wp.components,vt=_t.Button,gt=_t.Panel,bt=_t.PanelBody,ht=_t.Flex,ft=_t.Modal,Rt=_t.FlexBlock,Et=_t.FlexItem,wt=_t.PanelRow,Nt=wp.element.useState,Ot=function(e){var t=e.connected,n=e.title,a=e.children,r=e.onConnect,o=e.isBusy,l=e.connectButtonText,s=e.disconnectButtonText,i=e.onDisconnect,c=Nt(!1),p=Object(b.a)(c,2),u=p[0],m=p[1];return React.createElement(gt,null,React.createElement(bt,{title:React.createElement(ht,null,React.createElement(Rt,null,n),React.createElement(Et,null,t?React.createElement(vt,{isSmall:!0,isPrimary:!0,style:{marginRight:"30px"}},yt("Connected","presto-player")):React.createElement(vt,{isSmall:!0,isSecondary:!0,style:{marginRight:"30px"}},yt("Not Connected","presto-player")))),initialOpen:!1},React.createElement("form",{onSubmit:function(e){e.preventDefault(),r()},disabled:o},a,React.createElement(wt,null,React.createElement("div",null,t?React.createElement("div",null," ",React.createElement(vt,{isSecondary:!0,isBusy:o,disabled:o,onClick:function(e){e.preventDefault(),m(!0)}},s||yt("Disconnect","presto-player"))):React.createElement(vt,{isPrimary:!0,isBusy:o,disabled:o,type:"submit"},l||yt("Connect","presto-player")))))),u&&React.createElement(ft,{className:"presto-player__modal-confirm",title:yt("Are you sure?","presto-player"),style:{"max-width":"350px"},onRequestClose:function(){return m(!1)}},React.createElement("p",null,yt("Are you sure you want to disconnect this integration?","presto-player")),React.createElement(vt,{className:"presto-player__modal-confirm-button",isDestructive:!0,onClick:function(){i&&i(),m(!1)}},yt("Disconnect","presto-player")),React.createElement(vt,{onClick:function(){return m(!1)}},yt("Cancel","presto-player"))))},kt=wp.i18n.__,St=wp.element.useState,jt=wp.data.dispatch,Pt=wp.apiFetch,Ct=wp.compose.createHigherOrderComponent,xt=function(){return Ct((function(e){return function(t){var n=St(""),a=Object(b.a)(n,2),r=a[0],o=a[1],l=St(""),s=Object(b.a)(l,2),i=s[0],c=s[1],p=St(!1),u=Object(b.a)(p,2),m=u[0],d=u[1],y=function(){var e=Object(oe.a)(se.a.mark((function e(t){var n,a,r,l,s,i,p,u;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.path,a=t.data,r=void 0===a?{}:a,l=t.message,s=void 0===l?kt("Success","presto-player"):l,i=t.success,p=t.error,o(""),c(""),d(!0),jt("presto-player/settings").setSaving(!0),e.prev=5,e.next=8,Pt({path:n,method:"post",data:r});case 8:u=e.sent,i&&i(u),c(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),null!==e.t0&&void 0!==e.t0&&e.t0.message&&(o(e.t0.message),p&&p(e.t0));case 16:return e.prev=16,d(!1),jt("presto-player/settings").setSaving(!1),e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[5,13,16,20]])})));return function(t){return e.apply(this,arguments)}}();return React.createElement(e,Object.assign({success:i,setSuccess:c,setError:o,error:r,isBusy:m,makeRequest:y},t))}}),"withIntegration")},Tt=wp.i18n.__,Bt=wp.components,Dt=Bt.BaseControl,It=Bt.ExternalLink,At=Bt.PanelRow,Mt=Bt.Notice,Ft=wp.data.dispatch,zt=(0,wp.compose.compose)([xt()])((function(e){var t=e.settings,n=e.success,a=e.setSuccess,r=e.error,o=e.setError,l=e.isBusy,s=e.makeRequest,i=pe("mailchimp","api_key"),c=pe("mailchimp","connected"),p=function(e){Ft("presto-player/settings").updateSetting("api_key",(null==e?void 0:e.api_key)||"","mailchimp"),Ft("presto-player/settings").updateSetting("connected",(null==e?void 0:e.connected)||!1,"mailchimp")},u=function(){var e=Object(oe.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({path:"/presto-player/v1/mailchimp/disconnect",message:Tt("Disconnected","presto-player"),success:p,error:p});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(Ot,{title:Tt("Mailchimp"),connected:c,onDisconnect:u,onConnect:function(){s({path:"/presto-player/v1/mailchimp/connect",data:{api_key:i},message:Tt("Connected","presto-player"),success:p,error:p})},isBusy:l},r&&React.createElement(At,null,React.createElement(Mt,{className:"presto-notice",status:"error",onRemove:function(){return o("")}},r)),n&&React.createElement(At,null,React.createElement(Mt,{className:"presto-notice",status:"success",onRemove:function(){return a("")}},n)),React.createElement(At,null,React.createElement(Dt,null,React.createElement(dt,{className:"presto-player__setting--mailchimp-api_key",option:{id:"api_key",name:Tt("Your Mailchimp API key","presto-player"),help:React.createElement("p",null,Tt("You can create a new key on your mailchimp account page.","presto-player")," ",React.createElement(It,{href:"https://us11.admin.mailchimp.com/account/api/"},Tt("Get My API Key","presto-player"))),type:"password"},value:null==t?void 0:t.api_key,optionName:"mailchimp",required:!0}))))})),Lt=wp.i18n.__,qt=wp.components,Gt=qt.BaseControl,Vt=qt.ExternalLink,Ut=qt.PanelRow,Yt=qt.Notice,Wt=(wp.element.useState,wp.data.dispatch),Kt=(wp.apiFetch,(0,wp.compose.compose)([xt()])((function(e){var t=e.settings,n=e.success,a=e.setSuccess,r=e.error,o=e.setError,l=e.isBusy,s=e.makeRequest,i=pe("mailerlite","api_key"),c=pe("mailerlite","connected"),p=function(e){Wt("presto-player/settings").updateSetting("api_key",(null==e?void 0:e.api_key)||"","mailerlite"),Wt("presto-player/settings").updateSetting("connected",(null==e?void 0:e.connected)||!1,"mailerlite")},u=function(){var e=Object(oe.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({path:"/presto-player/v1/mailerlite/disconnect",message:Lt("Disconnected","presto-player"),success:p,error:p});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(Ot,{title:Lt("Mailerlite"),connected:c,onDisconnect:u,onConnect:function(){s({path:"/presto-player/v1/mailerlite/connect",data:{api_key:i},message:Lt("Connected","presto-player"),success:p,error:p})},isBusy:l},r&&React.createElement(Ut,null,React.createElement(Yt,{className:"presto-notice",status:"error",onRemove:function(){return o("")}},r)),n&&React.createElement(Ut,null,React.createElement(Yt,{className:"presto-notice",status:"success",onRemove:function(){return a("")}},n)),React.createElement(Ut,null,React.createElement(Gt,null,React.createElement(dt,{className:"presto-player__setting--mailerlite-api_key",option:{id:"api_key",name:Lt("Your Mailerlite API key","presto-player"),help:React.createElement("p",null,Lt("You can create a new key on your MailerLite account page.","presto-player")," ",React.createElement(Vt,{href:"https://app.mailerlite.com/integrations/api/"},Lt("Get My API Key","presto-player"))),type:"password"},value:null==t?void 0:t.api_key,optionName:"mailerlite",required:!0}))))}))),Ht=wp.i18n.__,Jt=wp.components,Qt=Jt.PanelRow,Xt=Jt.Notice,Zt=wp.data.dispatch,$t=(0,wp.compose.compose)([xt()])((function(e){e.settings,e.success,e.setSuccess;var t=e.error,n=e.setError,a=e.isBusy,r=e.makeRequest,o=pe("fluentcrm","connected"),l=function(e){Zt("presto-player/settings").updateSetting("connected",(null==e?void 0:e.connected)||!1,"fluentcrm")},s=function(){var e=Object(oe.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({path:"/presto-player/v1/fluentcrm/disconnect",message:Ht("Deactivated","presto-player"),success:l,error:l});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(Ot,{title:Ht("FluentCRM"),connected:o,onConnect:function(){r({path:"/presto-player/v1/fluentcrm/connect",message:Ht("Installed and connected","presto-player"),success:l,error:l})},onDisconnect:s,connectButtonText:Ht("Install FluentCRM Plugin","presto-player"),disconnectButtonText:Ht("Deactivate FluentCRM Plugin","presto-player"),isBusy:a},t&&React.createElement(Qt,null,React.createElement(Xt,{className:"presto-notice",status:"error",onRemove:function(){return n("")}},t)),o&&React.createElement(Qt,null,React.createElement(Xt,{className:"presto-notice",status:"success",isDismissible:!1},Ht("Installed and connected!","presto-player"))))})),en=wp.i18n.__,tn=wp.components,nn=tn.BaseControl,an=tn.PanelRow,rn=tn.Notice,on=wp.data.dispatch,ln=(0,wp.compose.compose)([xt()])((function(e){var t=e.settings,n=e.success,a=e.setSuccess,r=e.error,o=e.setError,l=e.isBusy,s=e.makeRequest,i=pe("activecampaign","api_key"),c=pe("activecampaign","url"),p=pe("activecampaign","connected"),u=function(e){on("presto-player/settings").updateSetting("api_key",(null==e?void 0:e.api_key)||"","activecampaign"),on("presto-player/settings").updateSetting("url",(null==e?void 0:e.url)||"","activecampaign"),on("presto-player/settings").updateSetting("connected",(null==e?void 0:e.connected)||!1,"activecampaign")},m=function(){var e=Object(oe.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({path:"/presto-player/v1/activecampaign/disconnect",message:en("Disconnected","presto-player"),success:u,error:u});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(Ot,{title:en("ActiveCampaign"),connected:p,onConnect:function(){s({path:"/presto-player/v1/activecampaign/connect",data:{api_key:i,url:c},message:en("Connected","presto-player"),success:u,error:u})},onDisconnect:m,isBusy:l},r&&React.createElement(an,null,React.createElement(rn,{className:"presto-notice",status:"error",onRemove:function(){return o("")}},r)),n&&React.createElement(an,null,React.createElement(rn,{className:"presto-notice",status:"success",onRemove:function(){return a("")}},n)),React.createElement(an,null,React.createElement(nn,null,React.createElement(dt,{className:"presto-player__setting--activecampaign-url",option:{id:"url",name:en("Your ActiveCampaign Url","presto-player"),help:React.createElement("p",null,en("You can find this on your Settings > Developer page.","presto-player")," ")},value:null==t?void 0:t.url,optionName:"activecampaign",type:"url",required:!0}),React.createElement(dt,{className:"presto-player__setting--activecampaign-api_key",option:{id:"api_key",name:en("Your ActiveCampaign API key","presto-player"),help:React.createElement("p",null,en("You can find this on your Settings > Developer page.","presto-player")," "),type:"password"},value:null==t?void 0:t.api_key,optionName:"activecampaign",required:!0}))))})),sn=wp.i18n.__,cn=wp.components,pn=cn.Button,un=cn.Panel,mn=cn.PanelBody,dn=cn.Flex,yn=cn.FlexBlock,_n=cn.Notice,vn=cn.Spinner,gn=wp.element,bn=gn.useState,hn=gn.useEffect,fn=function(){var e=bn(0),t=Object(b.a)(e,2),n=t[0],a=t[1],r=bn(0),o=Object(b.a)(r,2),l=o[0],s=o[1],i=bn(""),c=Object(b.a)(i,2),p=c[0],u=c[1],m=bn(0),d=Object(b.a)(m,2),y=d[0],_=d[1],v=function(){var e=Object(oe.a)(se.a.mark((function e(){var t,r,o,l;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(""),e.prev=1,e.next=4,wp.apiFetch({path:"/presto-player/v1/email/export",method:"post",data:{step:n}});case 4:t=e.sent,r=t.percentage,o=t.step,l=t.url,a(o),s(r),_(l),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s(0),u((null===e.t0||void 0===e.t0?void 0:e.t0.message)||sn("Something went wrong","presto-player"));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return hn((function(){n&&"done"!=n&&v()}),[n]),hn((function(){y&&window.open(y)}),[y]),React.createElement(un,null,React.createElement(mn,{title:React.createElement(dn,null,React.createElement(yn,null,sn("Other","presto-player"))),initialOpen:!1},React.createElement("h2",null,sn("Manual Export","presto-player")),React.createElement("p",null,sn("Using a service not listed here? You can export contacts and manually upload them to a service.","presto-player")),p&&React.createElement(_n,{className:"presto-notice",status:"error",onRemove:function(){return u("")}},p),React.createElement(dn,{align:"center",justify:"flex-start"},React.createElement(pn,{isPrimary:!0,onClick:function(e){a(1),s(1),e.preventDefault()}},sn("Download CSV File","presto-player")),!!l&&React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(vn,{style:{marginTop:0}}),React.createElement("span",null,"Exporting... ",l,"% Complete")))))},Rn=wp.components,En=Rn.Button,wn=Rn.Card,Nn=Rn.CardBody,On=(wp.data.dispatch,function(e){var t,n,a,r=e.option,o=(e.value,e.optionName,e.className);return React.createElement(wn,{isBorderless:!0,className:o},React.createElement(Nn,{isShady:!0},!(null==r||!r.name)&&React.createElement("h2",null,r.name),!!r.help&&React.createElement("p",null,r.help),!(null==r||null===(t=r.button)||void 0===t||!t.text)&&React.createElement(En,{isPrimary:!0,target:null==r||null===(n=r.button)||void 0===n?void 0:n.target,href:null==r||null===(a=r.button)||void 0===a?void 0:a.link},r.button.text)))}),kn=wp.i18n.__,Sn=function(){var e=pe("bunny_stream_public","video_library_id"),t=pe("bunny_stream_public","video_library_api_key"),n=pe("bunny_stream_public","pull_zone_url"),a=pe("bunny_stream_private","video_library_id"),r=pe("bunny_stream_private","video_library_api_key"),o=pe("bunny_stream_private","pull_zone_url"),l=pe("bunny_stream_private","token_auth_key");return React.createElement("div",null,React.createElement(dt,{className:"presto-player__setting--stream_public_id",option:{id:"video_library_id",name:kn("Public Video Library ID","presto-player"),help:kn("The ID of the video library to use.","presto-player")},value:e,optionName:"bunny_stream_public"}),React.createElement(dt,{className:"presto-player__setting--stream_public_video_library_api_key",option:{id:"video_library_api_key",name:kn("Public Token Authentication Key","presto-player"),help:kn("The API key for the above video library for read/write access.","presto-player")},type:"password",value:t,optionName:"bunny_stream_public"}),React.createElement(dt,{className:"presto-player__setting--stream_public_pull_zone_url",option:{id:"pull_zone_url",name:kn("Public CDN Hostname","presto-player"),help:kn("The public cdn hostename for the video library.","presto-player")},value:n,optionName:"bunny_stream_public"}),React.createElement(dt,{className:"presto-player__setting--stream_private_id",option:{id:"video_library_id",name:kn("Private Video Library ID","presto-player"),help:kn("The ID of the video library to use.","presto-player")},value:a,optionName:"bunny_stream_private"}),React.createElement(dt,{className:"presto-player__setting--stream_private_api_key",option:{id:"video_library_api_key",name:kn("Private Video Read/Write API Key","presto-player"),help:kn("The API key for the above video library for read/write access.","presto-player")},type:"password",value:r,optionName:"bunny_stream_private"}),React.createElement(dt,{className:"presto-player__setting--stream_private_pull_zone_url",option:{id:"pull_zone_url",name:kn("Private CDN Hostname","presto-player"),help:kn("The private cdn hostename for the video library.","presto-player")},value:o,optionName:"bunny_stream_private"}),React.createElement(dt,{className:"presto-player__setting--stream_private_token_auth_key",option:{id:"token_auth_key",name:kn("Private Video Token Authentication Key","presto-player"),help:kn("The token authentication key used to sign private urls","presto-player")},type:"password",value:l,optionName:"bunny_stream_private"}))},jn=wp.i18n.__,Pn=wp.components,Cn=Pn.ToggleControl,xn=Pn.ExternalLink,Tn=wp.element,Bn=Tn.useState,Dn=Tn.Fragment,In=n(35),An=function(){var e,t,n,a,r,o,l,s,i,c,p,u,m,d=ce(),y=Bn(!1),_=Object(b.a)(y,2),v=_[0],g=_[1],h=function(){var e;return(null===(e=prestoPlayer)||void 0===e||!e.isPremium)&&{title:jn("Pro Feature","presto-player"),heading:jn("Unlock Presto Player Pro","presto-player"),message:jn("Get this feature and more with the Pro version of Presto Player!","presto-player"),link:"https://prestoplayer.com"}};return React.createElement(Ie,{title:jn("Integrations","presto-player"),description:jn("Third party integrations and connections.","presto-player")},React.createElement(Se,{title:jn("Google Analytics","presto-player"),description:jn("Analytics settings for media plays, watch times and more.","presto-player"),disabled:h()},React.createElement(Ke,{className:"presto-player__setting--google-analytics",option:{id:"enable",name:jn("Enable","presto-player"),help:jn("Send analytics events to your Google Analytics account.","presto-player")},value:pe("google_analytics","enable"),optionName:"google_analytics"}),React.createElement(Ke,{className:"presto-player__setting--use-existing-tag",option:{id:"use_existing_tag",name:jn("Use existing on-page tag?","presto-player"),help:jn("Should we use an existing google analytics (v4) tag? If not, we'll output one for you.","presto-player")},value:pe("google_analytics","use_existing_tag"),optionName:"google_analytics"}),React.createElement(dt,{className:"presto-player__setting--measurement-id",option:{id:"measurement_id",name:jn("Measurement ID","presto-player"),help:jn("Enter a Google Analytics Measurement ID, which can be found on your analytics admin page.","presto-player")},value:pe("google_analytics","measurement_id"),optionName:"google_analytics"})),React.createElement(Se,{title:jn("YouTube","presto-player"),description:jn("Settings for YouTube videos.","presto-player")},React.createElement(Ke,{className:"presto-player__setting--youtube-nocookie",option:{id:"nocookie",name:jn("Privacy-Enhanced Mode","presto-player"),help:jn("Embed YouTube videos without using cookies that track viewing behaviour.","presto-player")},value:pe("youtube","nocookie"),optionName:"youtube"}),React.createElement(dt,{className:"presto-player__setting--youtube-channel-id",option:{id:"channel_id",name:jn("Channel ID","presto-player"),help:React.createElement("div",null,jn("Enter the ID of your channel to enable Youtube Subscribe button functionality.","presto-player")," ",React.createElement(xn,{href:"https://support.google.com/youtube/answer/3250431?hl=en"},jn("Find my channel id","presto-player")))},value:pe("youtube","channel_id"),optionName:"youtube"})),(null===(p=prestoPlayer)||void 0===p||!p.isPremium||!!(null!==(u=prestoPlayer)&&void 0!==u&&u.proVersion&&In(null===(m=prestoPlayer)||void 0===m?void 0:m.proVersion,"0.9.0")>=0))&&React.createElement(Se,{hideSaveButton:!0,title:jn("Email Capture","presto-player"),description:jn("Integrate Presto Player with an email provider for email capture.","presto-player"),disabled:h()},React.createElement(ln,{settings:null==d?void 0:d.presto_player_activecampaign}),React.createElement($t,{settings:null==d?void 0:d.presto_player_fluentcrm}),React.createElement(zt,{settings:null==d?void 0:d.presto_player_mailchimp}),React.createElement(Kt,{settings:null==d?void 0:d.presto_player_mailerlite}),React.createElement(fn,null)),null!==(e=window)&&void 0!==e&&null!==(t=e.prestoPlayer)&&void 0!==t&&null!==(n=t.isSetup)&&void 0!==n&&n.bunny?React.createElement(React.Fragment,null,React.createElement(Se,{title:jn("Bunny.net Settings","presto-player"),description:jn("Modify bunny.net settings.","presto-player")},(null==d?void 0:d.presto_player_bunny_stream)&&React.createElement(Dn,null,React.createElement(dt,{option:{id:"hls_start_level",name:jn("Initial Quality Level","presto-player"),help:jn("You can set the default quality start level for all streams (i.e. 240, 360, 480, 720, 1080, etc). Set this lower to prevent initial buffering if your users have slow connections. Set this higher to start with a higher quality stream.","presto-player")},placeholder:"480",type:"number",value:null==d||null===(a=d.presto_player_bunny_stream)||void 0===a?void 0:a.hls_start_level,optionName:"bunny_stream"}),React.createElement("br",null),React.createElement(Ke,{className:"presto-player__setting--use-existing-tag",option:{id:"disable_legacy_storage",name:jn("Disable Classic Bunny.net Storage","presto-player"),help:jn("This will disable Bunny.net classic storage in your block UI.","presto-player")},value:null==d||null===(r=d.presto_player_bunny_stream)||void 0===r?void 0:r.disable_legacy_storage,optionName:"bunny_stream"}),React.createElement("br",null)),React.createElement(Cn,{label:jn("Edit Bunny.net Settings","presto-player"),help:jn("Edit Bunny.net connection settings. Only edit this if you know what you're doing.","presto-player"),checked:v,onChange:g}),!!v&&React.createElement(React.Fragment,null,(null==d?void 0:d.presto_player_bunny_stream_public)&&React.createElement(Dn,null,React.createElement("h2",{style:{marginTop:"40px"}},jn("Bunny.net Stream","presto-player")),React.createElement(Sn,null)),React.createElement("h2",{style:{marginTop:"40px"}},jn("Bunny.net Storage (Classic)","presto-player")),React.createElement("p",{style:{fontSize:"12px",color:"#757575"}},jn('Note: To Change your API key, please click "Reconnect" from a bunny block.',"presto-player")),React.createElement(dt,{className:"presto-player__setting--pull_public_id",option:{id:"public_id",name:jn("Public ID","presto-player"),help:jn("The ID of the public pull zone to use.","presto-player")},value:null==d||null===(o=d.presto_player_bunny_pull_zones)||void 0===o?void 0:o.public_id,optionName:"bunny_pull_zones"}),React.createElement(dt,{className:"presto-player__setting--pull_private_name",option:{id:"public_hostname",name:jn("Public Host Name","presto-player"),help:jn("The hostname to use for this pullzone.","presto-player")},value:null==d||null===(l=d.presto_player_bunny_pull_zones)||void 0===l?void 0:l.public_hostname,optionName:"bunny_pull_zones"}),React.createElement(dt,{className:"presto-player__setting--pull_private_id",option:{id:"private_id",name:jn("Private ID","presto-player"),help:jn("The ID of the private pull zone to use.","presto-player")},value:null==d||null===(s=d.presto_player_bunny_pull_zones)||void 0===s?void 0:s.private_id,optionName:"bunny_pull_zones"}),React.createElement(dt,{className:"presto-player__setting--pull_private_name",option:{id:"private_hostname",name:jn("Private Host Name","presto-player"),help:jn("The hostname to use for this pullzone.","presto-player")},value:null==d||null===(i=d.presto_player_bunny_pull_zones)||void 0===i?void 0:i.private_hostname,optionName:"bunny_pull_zones"}),React.createElement(dt,{className:"presto-player__setting--pull_private_name",option:{id:"private_security_key",name:jn("Private Url Token Authentication Key","presto-player"),help:jn("Update the security token used to sign private urls.","presto-player"),type:"password"},value:null==d||null===(c=d.presto_player_bunny_pull_zones)||void 0===c?void 0:c.private_security_key,optionName:"bunny_pull_zones"})))):React.createElement(Se,null,React.createElement(On,{className:"presto-player__setting--bunny-cta",option:{name:jn("Bunny.net Video","presto-player"),help:jn("To get started with Bunny.net, add a Bunny.net video to your page.","presto-player"),type:"cta",button:{text:"Learn More",link:"https://prestoplayer.com/secure-video-with-bunny-net",target:"_blank"}}})))},Mn=wp.i18n.__,Fn=wp.components,zn=Fn.Notice,Ln=Fn.ExternalLink,qn=function(){var e,t,n,a,r=ce();return Object(ue.b)(Ie,{title:Mn("Performance","presto-player"),description:Mn("Player performance preferences.","presto-player")},Object(ue.b)(Se,{title:Mn("Performance","presto-player"),description:Mn("Performance options for player loading.","presto-player")},Object(ue.b)("div",null,Object(ue.b)(Ke,{className:"presto-player__setting--module-enabled",option:{id:"module_enabled",name:Mn("Dynamically Load JavaScript","presto-player"),help:Mn("Dynamically load javascript modules on the page which can significantly reduce javascript size and increase performance.","presto-player")},value:null==r||null===(e=r.presto_player_performance)||void 0===e?void 0:e.module_enabled,optionName:"performance"}),!(null==r||null===(t=r.presto_player_performance)||void 0===t||!t.module_enabled)&&Object(ue.b)(zn,{css:Object(ue.a)(Z||(Z=Object(He.a)(["\n                background: #f3f4f5 !important;\n              "]))),className:"presto-notice",status:"info",isDismissible:!1},Object(ue.b)("div",null,Object(ue.b)("strong",null,Mn("Please Note","presto-player"))),Object(ue.b)("div",null,Mn("You may need to exclude the player script from combining, as well as enable CORS requests for some CDNs.","presto-player")," ",Object(ue.b)(Ln,{href:"https://prestoplayer.com/docs/performance-preferences-explained#global-player-performance-setting"},Mn("Learn More","presto-player"))))),Object(ue.b)(Ke,{className:"presto-player__setting--module-enabled",option:{id:"automations",name:Mn("Enable Ajax Requests for Progress Integrations","presto-player"),help:Mn("Keep this on unless you do not plan on using automation, LMS or membership integrations.","presto-player")},value:void 0===(null==r||null===(n=r.presto_player_performance)||void 0===n?void 0:n.automations)||(null==r||null===(a=r.presto_player_performance)||void 0===a?void 0:a.automations),optionName:"performance"})))},Gn=wp.i18n.__,Vn=wp.components,Un=Vn.Card,Yn=Vn.SnackbarList,Wn=Vn.Flex,Kn=Vn.FlexBlock,Hn=Vn.FlexItem,Jn=Vn.Spinner,Qn=wp.data,Xn=Qn.dispatch,Zn=Qn.useSelect,$n=wp.element,ea=$n.useState,ta=$n.useEffect;var na=function(){var e,t,n,a,r,o,l,s=ea(!0),i=Object(b.a)(s,2),c=i[0],p=i[1];window.onhashchange=function(){window.scrollTo(0,0)},ta((function(){R({url:"".concat(k,"settings/")}).then((function(e){return N("presto-player/settings").setSettings(j(e)),e})).then((function(){p(!1)}))}),[]);var u=Zn((function(e){return e("presto-player/settings").notices()})),m=function(){window.scrollTo(0,0)};return c?React.createElement("div",{className:"presto-settings__loading"},React.createElement(Jn,null)):React.createElement("div",{className:"presto-settings"},React.createElement($,{routes:ee,defaultRoute:null==ee||null===(e=ee.general)||void 0===e?void 0:e.path},React.createElement(Un,{className:"presto-settings__navigation"},React.createElement(Wn,null,React.createElement(Kn,null,React.createElement("div",{role:"tablist","aria-orientation":"horizontal",className:"components-tab-panel__tabs"},React.createElement(J,{to:null==ee||null===(t=ee.general)||void 0===t?void 0:t.path,type:"button",role:"tab",activeClassName:"is-active",className:"components-button components-tab-panel__tabs-item presto-player__nav-general"},Gn("General","presto-player")),React.createElement(J,{to:null==ee||null===(n=ee.integrations)||void 0===n?void 0:n.path,type:"button",role:"tab",activeClassName:"is-active",className:"components-button components-tab-panel__tabs-item presto-player__nav-integrations"},Gn("Integrations","presto-player")),React.createElement(J,{to:null==ee||null===(a=ee.performance)||void 0===a?void 0:a.path,type:"button",role:"tab",activeClassName:"is-active",className:"components-button components-tab-panel__tabs-item presto-player__nav-performance"},Gn("Performance","presto-player")))),React.createElement(Hn,null,React.createElement(re,{style:{margin:"0 10px"},form:"presto-settings-form"})))),React.createElement(U,{path:null==ee||null===(r=ee.general)||void 0===r?void 0:r.path,onRoute:m},React.createElement(pt,null)),React.createElement(U,{path:null==ee||null===(o=ee.integrations)||void 0===o?void 0:o.path,onRoute:m},React.createElement(An,null)),React.createElement(U,{path:null==ee||null===(l=ee.performance)||void 0===l?void 0:l.path,onRoute:m},React.createElement(qn,null))),React.createElement(Yn,{className:"presto-settings-page-notices",notices:u,onRemove:function(e){Xn("presto-player/settings").removeNotice(e)}}))},aa=wp.element.render;(0,wp.data.registerStore)("presto-player/settings",g),aa(React.createElement(na,null),document.getElementById("presto-settings-page"))}},[[27,1,2]]]);
//# sourceMappingURL=admin-d03bbc80.js.map