{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///external \"jQuery\"","webpack:///../../../src/components/react-component-lib/utils/case.ts","webpack:///../../../src/components/react-component-lib/utils/attachProps.ts","webpack:///../../../src/components/react-component-lib/utils/index.tsx","webpack:///../../src/components/react-component-lib/createComponent.tsx","webpack:///../src/components/index.ts","webpack:///./src/admin/integrations/divi/modules/PrestoPlayer/RenderPlayer.jsx","webpack:///./src/admin/integrations/divi/modules/util.js","webpack:///./src/admin/integrations/divi/modules/PrestoPlayer/PrestoPlayer.jsx","webpack:///./src/admin/integrations/divi/modules/index.js","webpack:///./src/admin/integrations/divi/fields/VideoSelector/VideoSelector.jsx","webpack:///./src/admin/integrations/divi/fields/index.js","webpack:///./src/admin/integrations/divi/index.js"],"names":["module","exports","React","ReactDOM","jQuery","eventNameSuffix","id","src","useState","data","setData","loading","setLoading","provider","setProvider","renderKey","setRenderKey","useEffect","getHtml","includes","match","indexOf","getProvider","a","fetch","method","credentials","headers","body","URLSearchParams","action","_wpnonce","window","et_fb_options","et_admin_load_nonce","then","response","json","res","className","css","styles","key","video_id","preset","chapters","tracks","branding","blockAttributes","poster","mediaTitle","title","config","skin","analytics","automations","provider_video_id","youtube","full","type","target","href","__","wp","i18n","PrestoPlayer","props","state","videos","url_override","this","dynamic","RenderPlayer","value","Component","PrestoNonceProvider","nonce","createCache","container","memoizeOne","createEmotionCacheCustom","NonceProvider","VideoSelector","input","search","post_id","searchTerm","postId","Promise","all","fetchVideo","fetchVideos","video","find","item","ID","push","map","label","post_title","setState","event","_onChange","name","open","focus","parseInt","debouncedLoadVideos","debounce","inputValue","loadVideos","leading","parent","document","cacheOptions","defaultOptions","currentVideoLabel","onChange","loadOptions","onClick","_onEditVideoClick","_onCreateVideoClick","$","on","API","registerModules","modules","registerModalFields","fields"],"mappings":"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","file":"divi/admin-ca945bf9.js","sourcesContent":["module.exports = React;","module.exports = ReactDOM;","module.exports = jQuery;","export const dashToPascalCase = (str) => str\n    .toLowerCase()\n    .split('-')\n    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))\n    .join('');\nexport const camelToDashCase = (str) => str.replace(/([A-Z])/g, (m) => `-${m[0].toLowerCase()}`);\n//# sourceMappingURL=case.js.map","import { camelToDashCase } from './case';\nexport const attachProps = (node, newProps, oldProps = {}) => {\n    // some test frameworks don't render DOM elements, so we test here to make sure we are dealing with DOM first\n    if (node instanceof Element) {\n        // add any classes in className to the class list\n        const className = getClassName(node.classList, newProps, oldProps);\n        if (className !== '') {\n            node.className = className;\n        }\n        Object.keys(newProps).forEach((name) => {\n            if (name === 'children' ||\n                name === 'style' ||\n                name === 'ref' ||\n                name === 'class' ||\n                name === 'className' ||\n                name === 'forwardedRef') {\n                return;\n            }\n            if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n                const eventName = name.substring(2);\n                const eventNameLc = eventName[0].toLowerCase() + eventName.substring(1);\n                if (!isCoveredByReact(eventNameLc)) {\n                    syncEvent(node, eventNameLc, newProps[name]);\n                }\n            }\n            else {\n                node[name] = newProps[name];\n                const propType = typeof newProps[name];\n                if (propType === 'string') {\n                    node.setAttribute(camelToDashCase(name), newProps[name]);\n                }\n            }\n        });\n    }\n};\nexport const getClassName = (classList, newProps, oldProps) => {\n    const newClassProp = newProps.className || newProps.class;\n    const oldClassProp = oldProps.className || oldProps.class;\n    // map the classes to Maps for performance\n    const currentClasses = arrayToMap(classList);\n    const incomingPropClasses = arrayToMap(newClassProp ? newClassProp.split(' ') : []);\n    const oldPropClasses = arrayToMap(oldClassProp ? oldClassProp.split(' ') : []);\n    const finalClassNames = [];\n    // loop through each of the current classes on the component\n    // to see if it should be a part of the classNames added\n    currentClasses.forEach((currentClass) => {\n        if (incomingPropClasses.has(currentClass)) {\n            // add it as its already included in classnames coming in from newProps\n            finalClassNames.push(currentClass);\n            incomingPropClasses.delete(currentClass);\n        }\n        else if (!oldPropClasses.has(currentClass)) {\n            // add it as it has NOT been removed by user\n            finalClassNames.push(currentClass);\n        }\n    });\n    incomingPropClasses.forEach((s) => finalClassNames.push(s));\n    return finalClassNames.join(' ');\n};\n/**\n * Checks if an event is supported in the current execution environment.\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nexport const isCoveredByReact = (eventNameSuffix) => {\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    else {\n        const eventName = 'on' + eventNameSuffix;\n        let isSupported = eventName in document;\n        if (!isSupported) {\n            const element = document.createElement('div');\n            element.setAttribute(eventName, 'return;');\n            isSupported = typeof element[eventName] === 'function';\n        }\n        return isSupported;\n    }\n};\nexport const syncEvent = (node, eventName, newEventHandler) => {\n    const eventStore = node.__events || (node.__events = {});\n    const oldEventHandler = eventStore[eventName];\n    // Remove old listener so they don't double up.\n    if (oldEventHandler) {\n        node.removeEventListener(eventName, oldEventHandler);\n    }\n    // Bind new listener.\n    node.addEventListener(eventName, (eventStore[eventName] = function handler(e) {\n        if (newEventHandler) {\n            newEventHandler.call(this, e);\n        }\n    }));\n};\nconst arrayToMap = (arr) => {\n    const map = new Map();\n    arr.forEach((s) => map.set(s, s));\n    return map;\n};\n//# sourceMappingURL=attachProps.js.map","import React from 'react';\nexport const setRef = (ref, value) => {\n    if (typeof ref === 'function') {\n        ref(value);\n    }\n    else if (ref != null) {\n        // Cast as a MutableRef so we can assign current\n        ref.current = value;\n    }\n};\nexport const mergeRefs = (...refs) => {\n    return (value) => {\n        refs.forEach(ref => {\n            setRef(ref, value);\n        });\n    };\n};\nexport const createForwardRef = (ReactComponent, displayName) => {\n    const forwardRef = (props, ref) => {\n        return React.createElement(ReactComponent, Object.assign({}, props, { forwardedRef: ref }));\n    };\n    forwardRef.displayName = displayName;\n    return React.forwardRef(forwardRef);\n};\nexport const defineCustomElement = (tagName, customElement) => {\n    if (customElement !== undefined &&\n        typeof customElements !== 'undefined' &&\n        !customElements.get(tagName)) {\n        customElements.define(tagName, customElement);\n    }\n};\nexport * from './attachProps';\nexport * from './case';\n//# sourceMappingURL=index.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { attachProps, createForwardRef, dashToPascalCase, isCoveredByReact, mergeRefs, } from './utils';\nexport const createReactComponent = (tagName, ReactComponentContext, manipulatePropsFunction, defineCustomElement) => {\n    if (defineCustomElement !== undefined) {\n        defineCustomElement();\n    }\n    const displayName = dashToPascalCase(tagName);\n    const ReactComponent = class extends React.Component {\n        constructor(props) {\n            super(props);\n            this.setComponentElRef = (element) => {\n                this.componentEl = element;\n            };\n        }\n        componentDidMount() {\n            this.componentDidUpdate(this.props);\n        }\n        componentDidUpdate(prevProps) {\n            attachProps(this.componentEl, this.props, prevProps);\n        }\n        render() {\n            const _a = this.props, { children, forwardedRef, style, className, ref } = _a, cProps = __rest(_a, [\"children\", \"forwardedRef\", \"style\", \"className\", \"ref\"]);\n            let propsToPass = Object.keys(cProps).reduce((acc, name) => {\n                if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n                    const eventName = name.substring(2).toLowerCase();\n                    if (typeof document !== 'undefined' && isCoveredByReact(eventName)) {\n                        acc[name] = cProps[name];\n                    }\n                }\n                else {\n                    acc[name] = cProps[name];\n                }\n                return acc;\n            }, {});\n            if (manipulatePropsFunction) {\n                propsToPass = manipulatePropsFunction(this.props, propsToPass);\n            }\n            const newProps = Object.assign(Object.assign({}, propsToPass), { ref: mergeRefs(forwardedRef, this.setComponentElRef), style });\n            return React.createElement(tagName, newProps, children);\n        }\n        static get displayName() {\n            return displayName;\n        }\n    };\n    // If context was passed to createReactComponent then conditionally add it to the Component Class\n    if (ReactComponentContext) {\n        ReactComponent.contextType = ReactComponentContext;\n    }\n    return createForwardRef(ReactComponent, displayName);\n};\n//# sourceMappingURL=createComponent.js.map","/* eslint-disable */\n/* tslint:disable */\n/* auto-generated react proxies */\nimport { createReactComponent } from './react-component-lib';\nexport const PrestoActionBar = /*@__PURE__*/ createReactComponent('presto-action-bar');\nexport const PrestoActionBarController = /*@__PURE__*/ createReactComponent('presto-action-bar-controller');\nexport const PrestoActionBarUi = /*@__PURE__*/ createReactComponent('presto-action-bar-ui');\nexport const PrestoAudio = /*@__PURE__*/ createReactComponent('presto-audio');\nexport const PrestoBunny = /*@__PURE__*/ createReactComponent('presto-bunny');\nexport const PrestoCtaOverlay = /*@__PURE__*/ createReactComponent('presto-cta-overlay');\nexport const PrestoCtaOverlayController = /*@__PURE__*/ createReactComponent('presto-cta-overlay-controller');\nexport const PrestoCtaOverlayUi = /*@__PURE__*/ createReactComponent('presto-cta-overlay-ui');\nexport const PrestoDynamicOverlayUi = /*@__PURE__*/ createReactComponent('presto-dynamic-overlay-ui');\nexport const PrestoDynamicOverlays = /*@__PURE__*/ createReactComponent('presto-dynamic-overlays');\nexport const PrestoEmailOverlay = /*@__PURE__*/ createReactComponent('presto-email-overlay');\nexport const PrestoEmailOverlayController = /*@__PURE__*/ createReactComponent('presto-email-overlay-controller');\nexport const PrestoEmailOverlayUi = /*@__PURE__*/ createReactComponent('presto-email-overlay-ui');\nexport const PrestoMutedOverlay = /*@__PURE__*/ createReactComponent('presto-muted-overlay');\nexport const PrestoPlayer = /*@__PURE__*/ createReactComponent('presto-player');\nexport const PrestoPlayerButton = /*@__PURE__*/ createReactComponent('presto-player-button');\nexport const PrestoPlayerSkeleton = /*@__PURE__*/ createReactComponent('presto-player-skeleton');\nexport const PrestoPlayerSpinner = /*@__PURE__*/ createReactComponent('presto-player-spinner');\nexport const PrestoTimestamp = /*@__PURE__*/ createReactComponent('presto-timestamp');\nexport const PrestoVideo = /*@__PURE__*/ createReactComponent('presto-video');\nexport const PrestoVideoCurtainUi = /*@__PURE__*/ createReactComponent('presto-video-curtain-ui');\nexport const PrestoVimeo = /*@__PURE__*/ createReactComponent('presto-vimeo');\nexport const PrestoYoutube = /*@__PURE__*/ createReactComponent('presto-youtube');\nexport const PrestoYoutubeSubscribeButton = /*@__PURE__*/ createReactComponent('presto-youtube-subscribe-button');\n//# sourceMappingURL=index.js.map","/** @jsx jsx */\nimport { PrestoPlayer } from \"@presto-player/react\";\nimport { css, jsx } from \"@emotion/core\";\nimport React, { useEffect, useState } from \"react\";\nimport { getProvider } from \"../util\";\n\nexport default ({ id, src }) => {\n  const [data, setData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [provider, setProvider] = useState(\"\");\n  const [renderKey, setRenderKey] = useState(1);\n\n  useEffect(() => {\n    setRenderKey(renderKey + 1);\n  }, [id, src, data]);\n\n  useEffect(() => {\n    getHtml(id);\n  }, [id]);\n\n  useEffect(() => {\n    if (src) {\n      setProvider(getProvider(src));\n    }\n  }, [src]);\n\n  const getHtml = async (id) => {\n    if (!id) {\n      return;\n    }\n    setLoading(true);\n    try {\n      const res = await fetch(`/wp-admin/admin-ajax.php`, {\n        method: \"POST\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n          \"Cache-Control\": \"no-cache\",\n        },\n        body: new URLSearchParams({\n          action: \"presto_get_media_attributes\",\n          _wpnonce: window.et_fb_options.et_admin_load_nonce,\n          id,\n        }),\n      }).then((response) => response.json());\n      setData(res.data);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"et-fb-preloader et-fb-preloader__loading\">\n        <div className=\"et-fb-loader\" />\n      </div>\n    );\n  }\n\n  if (data?.id) {\n    src = src ? src : data.src;\n\n    if (\n      data?.provider === \"bunny\" &&\n      (provider === \"self-hosted\" || provider === \"bunny\")\n    ) {\n      return (\n        <presto-video-curtain-ui>\n          <span>\n            Bunny.net videos cannot be previewed in the DIVI editor due to DIVI\n            iframe having no referrer.\n          </span>\n          <presto-player-button\n            full\n            type=\"primary\"\n            target=\"_blank\"\n            href=\"https://prestoplayer.com/docs/bunny-net-videos-not-showing-in-divi-editor\"\n          >\n            Learn More\n          </presto-player-button>\n        </presto-video-curtain-ui>\n      );\n    }\n\n    return (\n      <div\n        css={css`\n          ${data?.styles}\n        `}\n      >\n        <PrestoPlayer\n          key={renderKey}\n          video_id={data.id}\n          preset={data.preset}\n          src={src}\n          chapters={data.chapters}\n          tracks={data.tracks}\n          branding={data.branding}\n          blockAttributes={data.blockAttributes}\n          poster={data?.blockAttributes?.poster}\n          mediaTitle={data?.blockAttributes?.title}\n          config={data.config}\n          skin={data.skin}\n          analytics={data.analytics}\n          automations={data.automations}\n          provider={provider || data?.provider}\n          provider_video_id={data.provider_video_id}\n          youtube={data.youtube}\n        ></PrestoPlayer>\n      </div>\n    );\n  } else {\n    return \"Choose Media Item\";\n  }\n};\n","export function getProvider(src) {\n  const provider = \"self-hosted\";\n\n  if (src) {\n    if (src.includes(\".mp3\")) {\n      return \"audio\";\n    }\n\n    const yt_rx = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\n    const has_match_youtube = src.match(yt_rx);\n\n    if (has_match_youtube) {\n      return \"youtube\";\n    }\n\n    const vm_rx = /(https?:\\/\\/)?(www\\.)?(player\\.)?vimeo\\.com\\/([a-z]*\\/)*([‌​0-9]{6,11})[?]?.*/;\n    const has_match_vimeo = src.match(vm_rx);\n\n    if (has_match_vimeo) {\n      return \"vimeo\";\n    }\n\n    if (src.indexOf(\"https://vz-\") > -1 && src.indexOf(\"b-cdn.net\") > -1) {\n      return \"bunny\";\n    }\n  }\n  return provider;\n}\n","// External Dependencies\nimport React, { Component } from \"react\";\nimport RenderPlayer from \"./RenderPlayer\";\n// Internal Dependencies\nimport \"./style.css\";\n\nconst { __ } = wp.i18n;\n\nclass PrestoPlayer extends Component {\n  static slug = \"prpl_presto_player\";\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      videos: [],\n    };\n  }\n\n  render() {\n    const url_override = this.props.dynamic.url_override; // https://gist.github.com/lots0logs/9b6bb0b3d494f4d0bdf957955d97cb26\n\n    if (this.props.video_id) {\n      return (\n        <RenderPlayer\n          id={this.props.video_id}\n          src={url_override && url_override.value && url_override.value}\n        />\n      );\n    } else {\n      return (\n        <presto-video-curtain-ui>\n          <span>{__(\"Please select media.\", \"presto-player\")}</span>\n        </presto-video-curtain-ui>\n      );\n    }\n  }\n}\n\nexport default PrestoPlayer;\n","import PrestoPlayer from \"./PrestoPlayer/PrestoPlayer\";\n\nexport default [PrestoPlayer];\n","// External Dependencies\nimport createCache from \"@emotion/cache\";\nimport memoizeOne from \"memoize-one\";\nimport React, { Component } from \"react\";\nimport { NonceProvider } from \"react-select\";\nimport AsyncSelect from \"react-select/async\";\nimport debounce from \"debounce-promise\";\nconst { __ } = wp.i18n;\n\n// Internal Dependencies\nimport \"./style.css\";\n\nclass PrestoNonceProvider extends NonceProvider {\n  createEmotionCacheCustom = function (nonce) {\n    return createCache({\n      nonce,\n      key: \"custom-select-style\",\n      container: this.props.container,\n    });\n  };\n\n  createEmotionCache = memoizeOne(this.createEmotionCacheCustom);\n}\n\nclass VideoSelector extends Component {\n  static slug = \"prpl_video_selector\";\n\n  constructor(props) {\n    super(props);\n    this.state = { videos: [] };\n\n    const wait = 500; // milliseconds\n    const loadVideos = (inputValue) =>\n      this.loadVideos({ searchTerm: inputValue });\n    this.debouncedLoadVideos = debounce(loadVideos, wait, {\n      leading: true,\n    });\n  }\n\n  /**\n   * Search for videos\n   *\n   * @param {string} input\n   * @returns {array}\n   */\n  fetchVideos = (input = \"\") => {\n    return fetch(`/wp-admin/admin-ajax.php`, {\n      method: \"POST\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        \"Cache-Control\": \"no-cache\",\n      },\n      body: new URLSearchParams({\n        action: \"presto_fetch_videos\",\n        search: input,\n      }),\n    })\n      .then((response) => response.json())\n      .then((response) => response.data || []);\n  };\n\n  /**\n   * Fetch a specific video\n   * @param {array} input\n   * @returns {array}\n   */\n  fetchVideo = (input = \"\") => {\n    if (!input) {\n      return [];\n    }\n\n    return fetch(`/wp-admin/admin-ajax.php`, {\n      method: \"POST\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        \"Cache-Control\": \"no-cache\",\n      },\n      body: new URLSearchParams({\n        action: \"presto_fetch_videos\",\n        post_id: input,\n      }),\n    })\n      .then((response) => response.json())\n      .then((response) => response.data || []);\n  };\n\n  /**\n   * Load the videos from the db\n   * @param {string} input\n   * @returns\n   */\n  loadVideos = async (input) => {\n    input = {\n      searchTerm: \"\",\n      postId: \"\",\n      ...input,\n    };\n\n    let [video, videos] = await Promise.all([\n      this.fetchVideo(input.postId),\n      this.fetchVideos(input.searchTerm),\n    ]);\n\n    if (video[0] && !videos.find((item) => item.ID === video[0].ID)) {\n      videos.push(video[0]);\n    }\n    videos = videos.map((item) => {\n      return {\n        label: item.post_title || __(\"Untitled\", \"presto-player\"),\n        value: item.ID,\n      };\n    });\n\n    this.setState({ videos });\n\n    return videos;\n  };\n\n  /**\n   * Handle input value change.\n   *\n   * @param {object} event\n   */\n  _onChange = (event) => {\n    this.props._onChange(this.props.name, event.value);\n  };\n\n  /**\n   * Handle edit video click.\n   * @returns null\n   */\n  _onEditVideoClick = () => {\n    var video_id = this.props.value;\n    if (!video_id) {\n      return;\n    }\n    var win = window.open(\n      `/wp-admin/post.php?post=${video_id}&action=edit`,\n      \"_blank\"\n    );\n    win.focus();\n  };\n\n  /**\n   * Handle create video click.\n   */\n  _onCreateVideoClick = () => {\n    var win = window.open(\n      `/wp-admin/post-new.php?post_type=pp_video_block`,\n      \"_blank\"\n    );\n    win.focus();\n  };\n\n  /**\n   * Determine the video label\n   * @returns {string}\n   */\n  currentVideoLabel = () => {\n    if (!this.state.videos) {\n      return \"\";\n    }\n\n    const video = (this.state.videos || []).find((video) => {\n      return video.value === parseInt(this.props.value);\n    });\n\n    if (!video) {\n      return \"\";\n    }\n\n    return video.label;\n  };\n\n  /**\n   * Render the component\n   * @returns {JSX}\n   */\n  render() {\n    return (\n      <div className=\"presto-player-divi-editor\">\n        <ul className=\"presto-player-divi-editor__inputs\">\n          <li>\n            <PrestoNonceProvider container={window.parent.document.body}>\n              <AsyncSelect\n                id={`prpd_video_selector-${this.props.name}`}\n                className=\"prpd_video_selector\"\n                cacheOptions\n                defaultOptions\n                name={this.props.name}\n                value={{\n                  value: this.props.value,\n                  label: this.currentVideoLabel(),\n                }}\n                onChange={this._onChange}\n                loadOptions={(inputValue) =>\n                  this.debouncedLoadVideos(inputValue)\n                }\n              />\n            </PrestoNonceProvider>\n          </li>\n          <li>\n            <label>{__(\"Video Options\", \"presto-player\")}</label>\n            <button type=\"button\" onClick={this._onEditVideoClick}>\n              {__(\"Edit Video\", \"presto-player\")}\n            </button>\n          </li>\n          <li>\n            <label>{__(\"New Video\", \"presto-player\")}</label>\n            <button type=\"button\" onClick={this._onCreateVideoClick}>\n              {__(\"Create Video\", \"presto-player\")}\n            </button>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default VideoSelector;\n","import VideoSelector from \"./VideoSelector/VideoSelector\";\n\nexport default [VideoSelector];\n","// External Dependencies\nimport $ from \"jquery\";\n\n// Internal Dependencies\nimport modules from \"./modules\";\nimport fields from \"./fields\";\n\n$(window).on(\"et_builder_api_ready\", (event, API) => {\n  API.registerModules(modules);\n  API.registerModalFields(fields);\n});\n"],"sourceRoot":""}